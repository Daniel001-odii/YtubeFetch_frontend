<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title> YtubeFetch </title>


    <!-- SEO meta tags begins here...................... -->
    <meta property="og:title" content="YtubeFetch" data-vmid="og:title">
	<meta property="og:image" content="https://github.com/Daniel001-odii/YtubeFetch_frontend/blob/main/res/for_meta_tag.png?raw=true" data-vmid="og:image">
	<meta property="og:image:secure_url" content="https://github.com/Daniel001-odii/YtubeFetch_frontend/blob/main/res/for_meta_tag.png?raw=true" data-vmid="og:image:secure_url">
	<meta property="twitter:title" content="YtubeFetch" data-vmid="twitter:title">
	<meta property="twitter:image" content="https://github.com/Daniel001-odii/YtubeFetch_frontend/blob/main/res/for_meta_tag.png?raw=true" data-vmid="twitter:image">
	<meta property="og:locale" content="en_US" data-vmid="og:locale">
	<meta property="twitter:card" content="summary_large_image" data-vmid="twitter:card"><meta property="og:type" content="website" data-vmid="og:type">
	<meta property="og:site_name" content="YtubeFetch" data-vmid="og:site_name">
	<meta name="description" content="YtubeFetch is a free online YouTube video downloader that allows you to download videos in a variety of formats and qualities including MP4, AVI.
        It is easy to use and does not require any registration. it also enables users to download subtitles of videos they want to download.">
	<meta property="og:description" content="YtubeFetch is a free online YouTube video downloader that allows you to download videos in a variety of formats and qualities including MP4, AVI.
        It is easy to use and does not require any registration. it also enables users to download subtitles of videos they want to download." data-vmid="og:description">
	<meta property="twitter:description" content="YtubeFetch is a free online YouTube video downloader that allows you to download videos in a variety of formats and qualities including MP4, AVI.
        It is easy to use and does not require any registration. it also enables users to download subtitles of videos they want to download." data-vmid="twitter:description">


    <link rel="shortcut icon" href="res/Ytube.png">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
    <link href="style.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm" crossorigin="anonymous"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
</head>

<body>
<div class="main_container">
    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
        <symbol id="check-circle-fill" fill="currentColor" viewBox="0 0 16 16">
          <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"/>
        </symbol>
        <symbol id="info-fill" fill="currentColor" viewBox="0 0 16 16">
          <path d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm.93-9.412-1 4.705c-.07.34.029.533.304.533.194 0 .487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703 0-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381 2.29-.287zM8 5.5a1 1 0 1 1 0-2 1 1 0 0 1 0 2z"/>
        </symbol>
        <symbol id="exclamation-triangle-fill" fill="currentColor" viewBox="0 0 16 16">
          <path d="M8.982 1.566a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566zM8 5c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995A.905.905 0 0 1 8 5zm.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"/>
        </symbol>
    </svg>

<header>
      <div class="alert alert-primary alert-dismissible fade show" role="alert">
        <svg class="bi flex-shrink-0 me-2" width="24" height="24" role="img" aria-label="Info:"><use xlink:href="#info-fill"/></svg>
        Welcome to our early testing and beta mode, we want to be sure we give you get the best experience!<br/>
        <strong>Whats new: </strong><br/>Extra video download qualities. <br/><i><small>Low on data? dont worry we got you covered</small></i>
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
      </div>

      


<nav class="navbar navbar-expand-lg">
    <div class="container-fluid">
    <a class="navbar-brand" href="/"><img src="res/Ytube.png"> YtubeFetch</a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" class="" role="search" id="navbarSupportedContent">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0">
        <li class="nav-item">
          <a class="nav-link active" aria-current="page" href="#yt_contents">About</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#FAQ">FAQ</a>
        </li>
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
            Other Downloaders
          </a>
          <ul class="dropdown-menu">
            <li><a class="dropdown-item" href="#">youtube downloader</a></li>
            <li><a class="dropdown-item" href="#">Facebook downloader</a></li>
            <li><a class="dropdown-item" href="#">instagram downloader</a></li>
            <li><a class="dropdown-item" href="#">twitter downloader</a></li>
        </ul>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#">Terms of service</a>
        </li>
      </ul>
    </div>
  </div>
</nav>  
</header>
    <main>
        
<div class="yt_hero">
    <div class="yt_hero_text">Download <br/>your favourite<br/><b style="color: red">youtube</b> videos</div>
    <p class="yt_hero_text_sub">Our downloads are fast and free! ðŸš€</p>

    <div id="message_box">

    </div>


    <form class="form-inline my-2 my-lg-0">
        <div class="input_box">
            <input class="yt_search" type="url" id="urlInput" placeholder="Enter or paste your video url" required>
            <i style="font-size: large;" class="bi bi-clipboard" id="pasteButton"></i>
        </div>
        <button class="yt_search_go" type="button" onclick="fetchVideoInfo()" id="getVidBtn">Get Video</button>
    </form>


<div id="yt_vid_details">
        <div class="yt_thumb_container" style="width: 100% !important; margin: 0 auto !important; padding: 10px 0px 10px 0px;">
            <img class="yt_thumbnail" id="thumbnailImg" src="" alt="Thumbnail">
        </div>
        <h2>Select your preffered download</h3>
        <table id="videoTable" class="table table-hover">
            <thead>
                <tr>
                    <th>Resolution</th>
                    <th>Size</th>
                    <th>Download Link</th>
                </tr>
            </thead>
            <tbody id="tableBody">
                <!-- Table body will be populated by JavaScript -->
            </tbody>
        </table>
</div>
<div class="yt_audio_details" id="yt_audio_details">
    <div class="audioFormatsList" id="audioFormatsList"></div>
</div>


    </div>
  
<div class="yt_contents" id="yt_contents">
    <div class="yt_title">Why choose YtubeFetch?</div>
    <p class="yt_content">YtubeFetch is a free online YouTube video downloader that allows you to download videos in a variety of formats and qualities including MP4, AVI.
        It is easy to use and does not require any registration. it also enables users to download subtitles of videos they want to download.
        </p>
    <div class="yt_contents_sub">
        <div class="yt_home_item green">
            <span><i class="bi bi-speedometer2"></i></span>
            <div class="yt_hi_title">Ligthening speed</div>
            <div class="yt_hi_content">Experience the fastest download speeds, ensuring you get your videos in a flash. No more waiting around; tubeFetch accelerates your entertainment.</div>
        </div>
        <div class="yt_home_item blue">
            <span><i class="bi bi-badge-hd-fill"></i></span>
            <div class="yt_hi_title">HD Quality Preservation</div>
            <div class="yt_hi_content">Your favorite videos deserve the best quality. YtubeFetch maintains the high definition of your downloaded content, so you can relish every detail without compromise.</div>
        </div>
            <div class="yt_home_item red">
            <span><i class="bi bi-shield-lock-fill"></i></span>
            <div class="yt_hi_title">Unrestricted Access</div>
            <div class="yt_hi_content">YtubeFetch gives you the freedom to download an array of videos â€“ tutorials, music, vlogs, and more â€“ fostering your personal collection without limitations.</div>
        </div>
    </div>
     
</div>

<div class="yt_contents">
    <div class="yt_title" style="text-align: center;" id="FAQ">FREQUENTLY ASKED QUESTIONS (FAQ)</div>
  
    <div class="yt_contents_sub2">
        <div class="yt_home_item2 grey">
            <!-- <span><i class="bi bi-speedometer2"></i></span> -->
            <div class="yt_hi_title">How to Download YouTube Videos?</div>
            <div class="yt_hi_content">To download a YouTube video from <a class="yt_link" href="/">YtubeFetch.com</a>, simply follow these steps: <br/>
                <ol>
                    <li>Copy the url/link of the video you want to download from youtube </li>
                    <li>Go to the <a class="yt_link" href="/">YtubeFetch.com</a> website and paste the URL of the YouTube video you want to download into the search bar and click "Enter".</li>
                    <li>Select the format and quality of the video you want to download.</li>
                    <li>To add subtite to your video, enable the subtitle button.</li>
                    <li>Click on the "Download" button again.</li>
            </div>
        </div>
       
    </div>
     
</div>
 

</main>

<footer>
    <div class="yt_footer">&copy; 2023 tubefetch, All rights reserved.</div>
</footer>

<style>

#downloadLinks{
    display: flex;
    flex-direction: column;
}

th, td{
    text-align: left;
    padding: 15px;
    vertical-align: middle;
}
table{
 
}

</style>

</div>

<script>
    let getVidBtn = document.getElementById("getVidBtn");
    const yt_vid_details = document.getElementById("yt_vid_details");
    yt_vid_details.style.display = "none";

    const error_screen = document.getElementById("message_box");
    // const url = document.getElementById('urlInput').value;
    // const noLinkAlert = document.getElementById("noLinkAlert");
    
    // noLinkAlert.style.display = "none";

    // const yt_audio_details = document.getElementById("yt_audio_details");
    // yt_audio_details.style.display = "none";

    function showError(message){
        error_screen.innerHTML = `
    <div class="alert alert-warning d-flex align-items-center alert-dismissible fade show" role="alert" id="noLinkAlert">
        <svg class="bi flex-shrink-0 me-2" width="24" height="24" role="img" aria-label="Warning:"><use xlink:href="#exclamation-triangle-fill"/></svg>
        <div>
           ${message}
        </div>
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>`;

    setInterval(function(){error_screen.innerHTML = ''}, 8000);
    }

    const api_url = "http://127.0.0.1:5000"

     function fetchVideoInfo() {
        if(document.getElementById('urlInput').value == ""){
           showError("Oops, looks like you forgot to paste your link");
        }
        else{
        ///show loading state to users so they can be happy.....
        /// disable the download button to avoid excessive sending of requests.....
            getVidBtn.innerHTML = "<div class='spinner-border' role='status'><span class='visually-hidden'>Loading...</span></div>"
            getVidBtn.disabled = true;

            
            const url = document.getElementById('urlInput').value;
            if (url) {
                fetch(`${api_url}/api/video_info?url=${encodeURIComponent(url)}`)
                    .then(response => response.json())
                    .then(data => {
                        const resolutionsList = document.getElementById('resolutionsList');
                        const sizeList = document.getElementById('sizeList');
                        const tableBody = document.getElementById('tableBody');
                        tableBody.innerHTML = ''; // Clear the table body before populating new data
                        // console.log("this is the returned data: " + data.audio_formats)
                        data.resolutions.forEach(resolution => {
                            const row = document.createElement('tr');

                            const resolutionCell = document.createElement('td');
                            resolutionCell.textContent =resolution.format + "-" + resolution.resolution;
                            row.appendChild(resolutionCell);

                            const sizeCell = document.createElement('td');
                            sizeCell.textContent = `${Math.round(resolution.size_mb * 100) / 100} MB`;
                            row.appendChild(sizeCell);

                            const downloadCell = document.createElement('td');
                            const downloadLink = document.createElement('a');
                            downloadLink.setAttribute("class", "download_btn");
                            downloadLink.href = `${api_url}${resolution.download_link}`;
                            downloadLink.innerHTML = "<i class='bi bi-cloud-arrow-down-fill'></i> download";
                            downloadLink.target = "_blank";
                            downloadLink.download = true;
                            downloadCell.appendChild(downloadLink);
                            row.appendChild(downloadCell);

                            tableBody.appendChild(row);
                        });
                        const thumbnailImg = document.getElementById('thumbnailImg');
                        thumbnailImg.src = data.thumbnail_url;


                        // Populate audio formats
                // Display best audio download if available
                if (data.audio) {
                    console.log("audio file found!")
                    const audioRow = document.createElement('tr');

                    const audioFormatCell = document.createElement('td');
                    audioFormatCell.textContent = "Audio - " + data.audio.format;
                    audioRow.appendChild(audioFormatCell);

                    const audioSizeCell = document.createElement('td');
                    audioSizeCell.textContent = `${Math.round(data.audio.size_mb * 100) / 100} MB`;
                    audioRow.appendChild(audioSizeCell);

                    const audioDownloadCell = document.createElement('td');
                    const audioDownloadLink = document.createElement('a');
                    audioDownloadLink.setAttribute("class", "download_btn");
                    audioDownloadLink.href = `${api_url}${data.audio.download_link}`;
                    audioDownloadLink.innerHTML = "<i class='bi bi-cloud-arrow-down-fill'></i> download";
                    audioDownloadLink.target = "_blank";
                    audioDownloadLink.download = true;
                    audioDownloadCell.appendChild(audioDownloadLink);
                    audioRow.appendChild(audioDownloadCell);

                    tableBody.appendChild(audioRow);
                }else{console.log("no audio file found!")}


                        //re-enable all things new as a new creature wey you be :)....
                        getVidBtn.innerHTML = "Get New video";
                        getVidBtn.disabled = false;
                        yt_vid_details.style.display = "block";
                        
                    })
                    .catch(error => {
                         //re-enable all things new as a new creature wey you be :)....
                         getVidBtn.innerHTML = "Get New video";
                        getVidBtn.disabled = false;

                        showError( `Error fetching video info: ${error}`);
                        
                        console.error('Error fetching video info:', error);
                    });
            }
        }
    }

    const pasteButton = document.getElementById('pasteButton');
    const inputBox = document.getElementById('urlInput');
    pasteButton.addEventListener('click', () => {
      // Check if the browser supports the Clipboard API
      if (navigator.clipboard) {
        navigator.clipboard.readText()
          .then(copiedText => {
            inputBox.value = copiedText;
          })
          .catch(error => {
            console.error('Error reading clipboard:', error);
          });
      } else {
        console.error('Clipboard API not supported');
      }
    });
</script>
</body>
</html>